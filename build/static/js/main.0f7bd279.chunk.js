(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){},25:function(e,t,n){},32:function(e,t,n){},39:function(e,t,n){e.exports=n(80)},44:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"db",function(){return k}),n.d(a,"auth",function(){return w}),n.d(a,"store",function(){return y});var r={};n.r(r),n.d(r,"doGetSignedInUser",function(){return I}),n.d(r,"doCreateUserWithEmailAndPassword",function(){return S}),n.d(r,"doSignInWithEmailAndPassword",function(){return C}),n.d(r,"doSignOut",function(){return N}),n.d(r,"doPasswordReset",function(){return U}),n.d(r,"doPasswordUpdate",function(){return P});var o=n(0),c=n.n(o),l=n(34),i=n.n(l),u=(n(44),n(3)),s=n(4),m=n(7),d=n(5),p=n(6),h=n(83),f=n(81),v=n(85),E="/signin",g=(n(20),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"Header-Container"},c.a.createElement("h1",{className:"Menu-Logo"},"ELIMU"),c.a.createElement("div",{className:" Menu-Container"},c.a.createElement("ul",{className:" Menu-List"},c.a.createElement("p",{className:"Menu-Item"},c.a.createElement(v.a,{activeClassName:"Menu-Link-Active",className:"Menu-Link",to:"/"},"Home")),c.a.createElement("p",{className:"Menu-Item"},c.a.createElement(v.a,{activeClassName:"Menu-Link-Active",className:"Menu-Link",to:"/courses"},"Courses")),c.a.createElement("p",{className:"Menu-Item"},c.a.createElement(v.a,{activeClassName:"Menu-Link-Active",className:"Menu-Link",to:"/reports"},"Reports")),c.a.createElement("p",{className:"Menu-Item"},c.a.createElement(v.a,{activeClassName:"Menu-Link-Active",className:"Menu-Link",to:"/logout"},"Logout")),c.a.createElement("p",{className:"Menu-Item"},c.a.createElement(v.a,{activeClassName:"Menu-Link-Active",className:"Menu-Link",to:E},"Sign In")))))}}]),t}(o.Component)),b=n(84),O=n(14),j=n.n(O);n(54),n(56),n(82);j.a.apps.length||j.a.initializeApp({apiKey:"AIzaSyBQ37ZMMyQoGgor27TK6H4kqINU-IX9InE",authDomain:"elimu-app-f2cb5.firebaseapp.com",databaseURL:"https://elimu-app-f2cb5.firebaseio.com",projectId:"elimu-app-f2cb5",storageBucket:"elimu-app-f2cb5.appspot.com",messagingSenderId:"623531741844"});var w=j.a.auth(),k=j.a.firestore(),y=j.a.storage(),I=function(e){w().onAuthStateChanged(e)},S=function(e,t){return w.createUserWithEmailAndPassword(e,t)},C=function(e,t){return w.signInWithEmailAndPassword(e,t)},N=function(){return w.signOut()},U=function(e){return w.sendPasswordResetEmail(e)},P=function(e){return w.currentUser.updatePassword(e)},M=function(e){return k.collection("Slides").doc(e).get()},x=function(e){return k.collection("Session").doc().set({session:e})},A=(n(25),n(29),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).renderRedirect=function(){return c.a.createElement(b.a,{to:{pathname:E}})},e.state={user:null,files:[],images:[],imageArr:[]},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){a.auth.onAuthStateChanged(function(e){var t;e&&(console.log(e),(t=e.uid,k.collection("Student").doc(t).get()).then(function(t){var n;t?console.log(t.data()):(n=e.uid,k.collection("Instructor").doc(n).get()).then(function(e){console.log(e.data())}).catch(function(e){console.log("Error getting instructor")})}).catch(function(e){console.log("Error getting students")}))})}},{key:"render",value:function(){return c.a.createElement("div",{className:"App-container"},c.a.createElement("h1",{className:"Home-header"},"Welcome "))}}]),t}(o.Component)),L=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={courses:[]},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){this.state.courses;return c.a.createElement("div",null,c.a.createElement("table",{className:"mui-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Course code"))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement(v.a,{to:{pathname:"/course-content",state:{id:"ECO 1020"}}},c.a.createElement("h4",null,c.a.createElement("td",null,"ECO 1020")))))))}}]),t}(o.Component),T=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("table",{className:"mui-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Student ID"),c.a.createElement("th",null,"Student Name"),c.a.createElement("th",null,"Content Type"),c.a.createElement("th",null,"% Interaction"),c.a.createElement("th",null,"Time Spent"),c.a.createElement("th",null,"Summary"))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"653586"),c.a.createElement("td",null,"Bruce Wayne"),c.a.createElement("td",null,"Audio"),c.a.createElement("td",null,"20%"),c.a.createElement("td",null,"20mins"),c.a.createElement("td",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer eu.")))))}}]),t}(o.Component),W=n(18),B=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).goBack=n.goBack.bind(Object(W.a)(Object(W.a)(n))),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"goBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){return c.a.createElement("div",{className:"App-container"},c.a.createElement("div",null),c.a.createElement("div",null,c.a.createElement("h3",{className:"Input-title"},"email"),c.a.createElement("input",{type:"text",placeholder:""})),c.a.createElement("div",null,c.a.createElement("h3",{className:"Input-title"},"First name"),c.a.createElement("input",{type:"text",placeholder:""})),c.a.createElement("div",null,c.a.createElement("h3",{className:"Input-title"},"Last name"),c.a.createElement("input",{type:"text",placeholder:""})),c.a.createElement("div",null,c.a.createElement("h3",{className:"Input-title"},"Password"),c.a.createElement("input",{type:"text",placeholder:""})),c.a.createElement("div",null,c.a.createElement("h3",{className:"Input-title"},"User role"),c.a.createElement("select",null,c.a.createElement("option",{value:"student"},"Student"),c.a.createElement("option",{value:"instructor"},"Instructor"))),c.a.createElement("button",null,c.a.createElement("p",null,"Create")))}}]),t}(o.Component),q=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"My Profile Page"))},D=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Sign Out Page"),c.a.createElement("button",{onClick:function(){j.a.auth().signOut().then(function(){console.log("SIGNED OUT")},function(e){})}},"Sign out"))},R=n(11),F=n(23),V=n.n(F),H={type:{email:function(e){var t=e.value;return V()(t)},password:{capitalLetter:function(e){var t=e.value;return/[A-Z]/.test(t)},oneNumber:function(e){var t=e.value;return/[0-9]/.test(t)},minLength:function(e){return e.value.length>5}}}},_={general:{missing:"Please provide the required field",invalid:"Provided value is invalid"},type:{email:{missing:"Please provide an e-mail",invalid:"The e-mail you provided is invalid"},password:{rule:{capitalLetter:"Include at least one capital letter",oneNumber:"Include at least one number",minLength:"Password must be at least 6 letters long"}}}},G=n(12),Z=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).renderRedirect=function(){return c.a.createElement(b.a,{to:{pathname:"/"}})},e.signInUser=function(t){console.log(e.state);var n=e.state,a=n.userEmail,o=n.userPassword;return r.doSignInWithEmailAndPassword(a.nextValue,o.nextValue).then(function(t){console.log(t),e.renderRedirect()}).catch(function(e){console.log(e)}),new Promise(function(e){return e()})},e.state={userEmail:"",userPassword:"",error:""},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state;return c.a.createElement(R.Form,{action:this.signInUser},c.a.createElement(G.Input,{onChange:function(t){return e.setState({userEmail:t},function(){console.log(e.state)})},name:"userEmail",spellCheck:!1,type:"email",label:"E-mail",required:!0}),c.a.createElement(G.Input,{onChange:function(t){return e.setState({userPassword:t})},name:"userPassword",type:"password",label:"Password",required:!0}),c.a.createElement(G.Button,{primary:!0},"Sign In"),t&&c.a.createElement("p",null,t.message))}}]),t}(c.a.Component),z=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(R.FormProvider,{rules:H,messages:_},c.a.createElement(Z,null))}}]),t}(o.Component),J=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Sign in Page"),c.a.createElement(z,null))},K={type:{email:function(e){var t=e.value;return V()(t)},password:{capitalLetter:function(e){var t=e.value;return/[A-Z]/.test(t)},oneNumber:function(e){var t=e.value;return/[0-9]/.test(t)},minLength:function(e){return e.value.length>5}}},name:{confirmPassword:{matches:function(e){var t=e.get;return e.value===t(["userPassword","value"])}}}},Q={general:{missing:"Please provide the required field",invalid:"Provided value is invalid"},type:{email:{missing:"Please provide an e-mail",invalid:"The e-mail you provided is invalid"},password:{rule:{capitalLetter:"Include at least one capital letter",oneNumber:"Include at least one number",minLength:"Password must be at least 6 letters long"}}},name:{confirmPassword:{rule:{matches:"The provided passwords do not match"}}}},X=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).registerUser=function(t){console.log(e.state);var n=e.state,a=n.userEmail,o=n.userPassword;return r.doCreateUserWithEmailAndPassword(a.nextValue,o.nextValue).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),new Promise(function(e){return e()})},e.state={userEmail:"",userPassword:"",error:""},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state;return c.a.createElement(R.Form,{action:this.registerUser},c.a.createElement(G.Input,{onChange:function(t){return e.setState({userEmail:t})},name:"userEmail",spellCheck:!1,type:"email",label:"E-mail",required:!0}),c.a.createElement(G.Input,{onChange:function(t){return e.setState({userPassword:t})},name:"userPassword",type:"password",label:"Password",required:!0}),c.a.createElement(G.Input,{name:"confirmPassword",type:"password",label:"Confirm password",required:!0,skip:!0}),c.a.createElement(G.Button,{primary:!0},"Sign Up"),t&&c.a.createElement("p",null,t.message))}}]),t}(c.a.Component),$=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(R.FormProvider,{rules:K,messages:Q},c.a.createElement(X,null))}}]),t}(o.Component),Y=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Sign Up Page"),c.a.createElement($,null))},ee=(n(32),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h2",null,this.props.location.state.id)),c.a.createElement("div",{className:"grid-container"},c.a.createElement("div",null,c.a.createElement(v.a,{to:{pathname:"/course-content-type",state:{week:"week1"}}},"Week 1")),c.a.createElement("div",null,c.a.createElement(v.a,{to:{pathname:"/course-content-type",state:{week:"week2"}}},"Week 2")),c.a.createElement("div",null,c.a.createElement(v.a,{to:{pathname:"/course-content-type",state:{week:"week3"}}},"Week 3")),c.a.createElement("div",null,c.a.createElement(v.a,{to:{pathname:"/course-content-type",state:{week:"week4"}}},"Week 4"))))}}]),t}(o.Component)),te=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={course:"",courseUid:"",clicked:!1,week:"",audioSource:"",videoSource:"",textSource:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;k.collection("Courses").doc("TEST101").get().then(function(t){var n=t.data();console.log(t.data());var a=e.props.location.state.week,r=t.id,o=n[a][2];console.log(o.id),M(o.id).then(function(e){console.log(e.data())}),e.setState({course:n,courseUid:r,week:a}),e.setState({audioSource:n[a][0],videoSource:n[a][1],textSource:o.id},function(){})})}},{key:"componentDidMount",value:function(){var e=this.state;e.courseUid,e.course}},{key:"render",value:function(){var e=this.state,t=e.courseUid,n=e.week,a=e.audioSource,r=e.videoSource,o=e.textSource;return c.a.createElement("div",null,c.a.createElement("h3",null,n),c.a.createElement("h2",null,"ECO 1020"),c.a.createElement("div",{className:"grid-container"},c.a.createElement("button",null,c.a.createElement(v.a,{to:{pathname:"/upload-audio",state:{courseUid:t,source:a,format:"audio",week:n}}},"Audio")),c.a.createElement("button",{onClick:this._handleText},c.a.createElement(v.a,{to:{pathname:"/upload-text",state:{courseUid:t,source:o,format:"text",week:n}}},"Text")),c.a.createElement("button",null,c.a.createElement(v.a,{to:{pathname:"/upload-video",state:{courseUid:t,source:r,format:"video",week:n}}},"Video"))))}}]),t}(o.Component),ne=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={studentUid:"",courseUid:"",Interaction:0,format:"audio"},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.courseUid;a.auth.onAuthStateChanged(function(n){n?e.setState({studentUid:n.uid,courseUid:t}):console.log("NONE")});var n=window.videojs(this.refs.player,{}).ready(function(){var t=0;n.on("timeupdate",function(t){var a=n.currentTime()/n.cache_.duration*100;console.log(Math.round(a));var r=Math.round(a);e.setState({Interaction:r})}),n.on("seeking",function(e){t<n.currentTime()&&n.currentTime(t)}),n.on("seeked",function(e){t<n.currentTime()&&n.currentTime(t)}),setInterval(function(){n.paused()||(t=n.currentTime())},1e3)})}},{key:"componentWillUnmount",value:function(){window.videojs(this.refs.player,{}).ready(function(){}).dispose(),console.log(this.state),x(this.state).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.props.location.state.source;return c.a.createElement("div",{className:"App-container"},c.a.createElement("video",{poster:"https://image.freepik.com/free-icon/music-note-sound_318-10790.jpg",id:"vid1",src:e,preload:"auto",className:"video-js",controls:!0,ref:"player"}))}}]),t}(o.Component),ae=n(38),re=n(35),oe=n.n(re),ce=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={studentId:"",courseUid:"",week:"",viewed:[],images:null,format:"text"},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state,n=t.week,r=t.courseUid;a.auth.onAuthStateChanged(function(t){console.log(t),e.setState({studentId:t.uid,week:n,courseUid:r})}),console.log(this.props.location.state);var o=this.props.location.state.source;M(o).then(function(t){console.log(t.data()),e.setState({images:t.data()[n]})})}},{key:"componentWillUnmount",value:function(){console.log(this.state);var e=this.state,t=e.studentId,n=e.courseUid,a=e.week,r=e.format,o=(e.viewed,Object(ae.a)(new Set(this.state.viewed)));console.log(o);var c={studentId:t,courseUid:n,week:a,format:r,uniq:o};console.log(c),x(c).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.images;return console.log(t),t?c.a.createElement("div",{className:"App-container"},c.a.createElement(oe.a,{className:"slider",style:{width:700},images:t,withTimestamp:!0,pageWillUpdate:function(t,n){var a=e.state.viewed;a.push(t),e.setState({viewed:a},function(){console.log(e.state)})}})):null}}]),t}(o.Component),le=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={studentUid:"",courseUid:"",Interaction:0,format:"video"},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.state.courseUid;a.auth.onAuthStateChanged(function(n){n&&(console.log(n.uid),e.setState({studentUid:n.uid,courseUid:t}))});var n=window.videojs(this.refs.player,{}).ready(function(){var t=0;n.on("timeupdate",function(t){var a=n.currentTime()/n.cache_.duration*100,r=Math.round(a);e.setState({Interaction:r})}),n.on("seeking",function(e){t<n.currentTime()&&n.currentTime(t)}),n.on("seeked",function(e){t<n.currentTime()&&n.currentTime(t)}),setInterval(function(){n.paused()||(t=n.currentTime())},1e3)})}},{key:"componentWillUnmount",value:function(){window.videojs(this.refs.player,{}).ready(function(){}).dispose(),console.log(this.state),x(this.state).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.props.location.state.source;return c.a.createElement("div",{className:"App-container"},c.a.createElement("video",{id:"vid1",src:e,type:"video/mp4",preload:"auto",className:"video-js",controls:!0,ref:"player"}))}}]),t}(o.Component),ie=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(h.a,null,c.a.createElement("div",null,c.a.createElement(g,null),c.a.createElement("hr",null),c.a.createElement(f.a,{exact:!0,path:"/",component:A}),c.a.createElement(f.a,{exact:!0,path:"/courses",component:L}),c.a.createElement(f.a,{exact:!0,path:"/course-content",component:ee}),c.a.createElement(f.a,{exact:!0,path:"/course-content-type",component:te}),c.a.createElement(f.a,{exact:!0,path:"/upload-audio",component:ne}),c.a.createElement(f.a,{exact:!0,path:"/upload-text",component:ce}),c.a.createElement(f.a,{exact:!0,path:"/upload-video",component:le}),c.a.createElement(f.a,{exact:!0,path:"/reports",component:T}),c.a.createElement(f.a,{exact:!0,path:"/create-users",component:B}),c.a.createElement(f.a,{exact:!0,path:"/profile",component:q}),c.a.createElement(f.a,{exact:!0,path:"/logout",component:D}),c.a.createElement(f.a,{exact:!0,path:"/signup",component:Y}),c.a.createElement(f.a,{exact:!0,path:E,component:J})))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,2,1]]]);
//# sourceMappingURL=main.0f7bd279.chunk.js.map